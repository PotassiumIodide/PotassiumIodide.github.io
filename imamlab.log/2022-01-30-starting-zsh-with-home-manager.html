<!DOCTYPE html>
<html lang="ja">
  <head>
    <title>Nix学習備忘録Part 2-1: Home ManagerでZ Shellを導入する</title>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, maximum-scale=1.0, minimum-scale=1.0, initial-scale=1">
    <meta name="description" content="Home ManagerでZ Shellを導入する">
    
    <meta name="author" content="PotassiumIodide">
    
    
    <meta name="keywords" content="Nix、home-manager">
    
    <meta name="theme-color" content="#315086">

    <meta property="og:site_name" content="ImamLab-web">
    <meta property="og:title" content="Nix学習備忘録Part 2-1: Home ManagerでZ Shellを導入する">
    <meta property="og:url" content="https://PotassiumIodide.github.io/imamlab.log/2022-01-30-starting-zsh-with-home-manager.html">
    <meta property="og:description" content="Home ManagerでZ Shellを導入する">
    
    <meta property="og:image" content="https://PotassiumIodide.github.io/images/nix_logo.png">
    
    
    <meta property="og:type" content="article">
    

    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:site" content="ImamLab-web">
    <meta property="twitter:title" content="Nix学習備忘録Part 2-1: Home ManagerでZ Shellを導入する">
    <meta property="twitter:description" content="Home ManagerでZ Shellを導入する">
    
    <meta property="twitter:image" content="https://PotassiumIodide.github.io/images/nix_logo.png">
    
    
    <meta property="twitter:creator" content="@Aspirerator">
    

    <link rel="icon" type="image/icon" href="/favicon.ico">
    <link rel="canonical" href="https://PotassiumIodide.github.io/imamlab.log/2022-01-30-starting-zsh-with-home-manager.html">
    <link rel="stylesheet" href="https://unpkg.com/ress/dist/ress.min.css"/>
    <link rel="stylesheet" href="/css/style.css" />
    <link rel="stylesheet" href="/css/code.css" />
    <!--[if lt IE 9]>
      <script src="http://html5shiv.googlecode.com">
    <![endif]-->

    <script type="text/javascript" id="MathJax-script" async
      src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
    </script>
    <script src="https://kit.fontawesome.com/2f54fe6e45.js" async></script> 

    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.10.0/styles/railscasts.min.css">
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.10.0/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
  </head>
  <body>
    <header role="banner" class="l-header p-header">
  <div class="l-container">
    <div class="p-header__inner">
      <h1 class="p-header__title">
        <span class="u-visuallyHidden">ImamLab</span>
        <a href="/" class="p-logo -primary">
          <img src="/images/logo.png" alt="ImamLab" class="p-logo__image" />
        </a>
      </h1>
      <nav role="navigation" class="p-header__nav js-drawerScope">
  <button type="button" class="js-drawer c-button p-hamburger u-mobile-only" aria-controls="globalNav" aria-expanded="false">
    <span class="p-hamburger__line">
      <span class="u-visuallyHidden">メニューを開閉する</span>
    </span>
    <span class="p-hamburger__text"></span>
  </button>
  <div id="drawer" class="p-drawer" aria-hidden="true">
    <h2 class="drawer__title">
      <span class="u-visuallyHidden">
        <span lang="en">Site Navigation</span>
      </span>
    </h2>
    <p class="p-drawer__text">
      <a href="#main" class="u-visuallyHidden">本文までスキップ</a>
    </p>
    <div id="globalNav" class="p-globalNav js-drawerTarget">
      <ul class="p-globalNav__list">
        <li class="p-globalNav__item"><a href="/" class="p-globalNav__link">
          <span class="c-font-icon c-font-icon--home with-text"></span>Home
        </a></li>
        <li class="p-globalNav__item"><a href="mailto:potassium.iodide28@gmail.com?subject=Work Inquiry" class="p-globalNav__link">
          <span class="c-font-icon c-font-icon--mail with-text"></span>Hire Me
        </a></li>
        <li class="p-globalNav__item"><a href="/atom.xml" class="p-globalNav__link">
          <span class="c-font-icon c-font-icon--rss with-text"></span>atom
        </a></li>
        <li class="p-globalNav__item"><a href="/rss.xml" class="p-globalNav__link">
          <span class="c-font-icon c-font-icon--rss with-text"></span>rss
        </a></li>
      </ul>
    </div>
  </div>
</nav>
    </div> <!-- /.p-header__inner -->
  </div> <!-- /.l-container -->
</header>
    <main role="main" class="l-content">
  <div class="l-content__col">
    <article class="l-content__main p-post">
      <section class="c-inner">
        <header class="p-post__header">
          <h1 id="post-title" class="p-post__title">
            Nix学習備忘録Part 2-1: Home ManagerでZ Shellを導入する
          </h1>
          <div class="p-post__timeInfo">
            <small class="p-post__date">
              <span class="c-font-icon c-font-icon--calendar with-text"></span>
              2022-01-30
            </small>
            <small class="p-post__updated">
              <span class="c-font-icon c-font-icon--update with-text"></span>
              2022-01-30T17:18:32Z
            </small>
          </div>
        </header>
        <section class="p-post__body is-generatedBySSG">
          <nav role="navigation" class="p-toc">
  <h2 class="p-toc__header">
    目次
  </h2>
  <div class="p-toc__contents">
    <ul>
    <li><a href="#はじめに"><span class="toc-section-number">1</span> はじめに</a>
    <ul>
    <li><a href="#シェルとは"><span class="toc-section-number">1.1</span> シェルとは</a></li>
    </ul></li>
    <li><a href="#今回行うhome-managerを用いたzshの設定"><span class="toc-section-number">2</span> 今回行うHome Managerを用いたzshの設定</a>
    <ul>
    <li><a href="#homenixの記述"><span class="toc-section-number">2.1</span> home.nixの記述</a></li>
    <li><a href="#既定のシェルをzshへ変更する"><span class="toc-section-number">2.2</span> 既定のシェルをzshへ変更する</a></li>
    </ul></li>
    <li><a href="#zshのカスタマイズ"><span class="toc-section-number">3</span> zshのカスタマイズ</a>
    <ul>
    <li><a href="#powerlevel10k-ターミナルの見た目を簡単に設定する"><span class="toc-section-number">3.1</span> powerlevel10k: ターミナルの見た目を簡単に設定する</a></li>
    <li><a href="#zshの便利なコマンド"><span class="toc-section-number">3.2</span> zshの便利なコマンド</a></li>
    <li><a href="#基本設定"><span class="toc-section-number">3.3</span> 基本設定</a></li>
    <li><a href="#oh-my-zshによるプラグインの設定"><span class="toc-section-number">3.4</span> oh my zshによるプラグインの設定</a></li>
    <li><a href="#外部プラグインの利用について別記事に回します"><span class="toc-section-number">3.5</span> 外部プラグインの利用について(別記事に回します)</a></li>
    </ul></li>
    <li><a href="#まとめ"><span class="toc-section-number">4</span> まとめ</a></li>
    </ul>
  </div>
</nav>
<h1 data-number="1" id="はじめに"><span class="header-section-number">1</span> はじめに</h1>
<p>本記事ではHome Managerを用いてZ Shellを導入し、各種設定を行います。 先に<code>home.nix</code>の記述を載せているので、筆者と同じ設定で取り敢えず済ませたい方は、 <a href="#homenixの記述">2.1</a>、 <a href="#既定のシェルをzshへ変更する">2.2</a>、 <a href="#powerlevel10k-ターミナルの見た目を簡単に設定する">3.1</a> だけ読めば設定できます。残りは各種設定の解説です。</p>
<!--more-->
<p>zshの設定に詳しい方は、<a href="https://github.com/nix-community/home-manager/blob/master/modules/programs/zsh.nix">Home Managerのzsh.nix</a> を見て、ご自身の<code>.zshrc</code>と見比べながら設定すれば、簡単に移行できると思います。</p>
<p><strong>Z shell</strong>(ズィーシェル、zsh)はUnixのコマンドシェルの1つです。</p>
<p>そのため、先に軽くシェルの説明を行います。ご存じの方は読み飛ばして頂いて構いません。</p>
<h2 data-number="1.1" id="シェルとは"><span class="header-section-number">1.1</span> シェルとは</h2>
<p>Unix系のOSを操作するには<strong>カーネル</strong>(kernel)と呼ばれる場所に命令を出す必要がありますが、 ユーザーが直接カーネルに命令を出すことはできません。 カーネルの周りを覆う殻、すなわち<strong>シェル</strong>(shell)を介して命令を出す必要があります。 このシェルを起動し、使用するためのソフトが<strong>端末</strong>(terminal)です。</p>
<p><img src="/images/shell.png" alt="シェルとは" /><br />
</p>
<p>シェルにも色々な種類があり、bashやzshの他、fishやeshellなど、数多くあります。 Linuxの場合、標準はほとんどがbashというシェルになっています。 MacOSの場合、10.15 Catalinaからデフォルトのシェルはzshとなっています。</p>
<p>個人的に調べた感じだと、bash以外のシェルだと、zshとfishが人気だと感じました。 本記事では、bashより柔軟で使いやすいと言われており、設定に関する記事も豊富なzshを導入していきます。</p>
<h1 data-number="2" id="今回行うhome-managerを用いたzshの設定"><span class="header-section-number">2</span> 今回行うHome Managerを用いたzshの設定</h1>
<p>「細々した設定の説明は良いから、取り敢えず筆者と同じ設定使ってみて、後で適当に自分で弄るわ！」 って方もいらっしゃると思うので、今回作る完成形を先に載せておきます。</p>
<h2 data-number="2.1" id="homenixの記述"><span class="header-section-number">2.1</span> home.nixの記述</h2>
<details>
<summary>
今回行うzshの設定
</summary>
<div>
<p>以下の記述を<code>~/.config/nixpkgs/home.nix</code>内の<a href="https://potassiumiodide.github.io/imamlab.log/2022-01-29-starting-home-manager.html">前回の記事</a> のひな形に書いた<code>programs = {};</code>の中に記述します。</p>
<div class="sourceCode" id="cb1" data-filepath="~/.config/nixpkgs/home.nix"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>    <span class="fu">zsh</span> = {</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>      <span class="ex">autocd</span> = true<span class="kw">;</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>      <span class="ex">defaultKeymap</span> = <span class="st">&quot;emacs&quot;</span><span class="kw">;</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>      <span class="ex">dotDir</span> = <span class="st">&quot;.config/zsh&quot;</span><span class="kw">;</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>      <span class="bu">enable</span> = true<span class="kw">;</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>      <span class="ex">enableAutosuggestions</span> = true<span class="kw">;</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>      <span class="ex">enableCompletion</span> = true<span class="kw">;</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>      <span class="ex">enableSyntaxHighlighting</span> = true<span class="kw">;</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>      <span class="ex">envExtra</span> = <span class="st">&#39;&#39;</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="bu">[</span> <span class="ot">-e</span> ~/.nix-profile/etc/profile.d/nix.sh <span class="bu">]</span><span class="kw">;</span> <span class="cf">then</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>          <span class="bu">.</span> ~/.nix-profile/etc/profile.d/nix.sh</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>        <span class="cf">fi</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>      <span class="st">&#39;&#39;</span><span class="kw">;</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>      <span class="ex">initExtra</span> =<span class="st">&#39;&#39;</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>        <span class="ex">setopt</span> no_beep</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>        <span class="ex">setopt</span> auto_pushd</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>        <span class="ex">setopt</span> pushd_ignore_dups</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>        <span class="ex">setopt</span> inc_append_history</span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>      <span class="st">&#39;&#39;</span><span class="kw">;</span></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>      <span class="bu">history</span> = {</span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>        <span class="ex">extended</span> = true<span class="kw">;</span></span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a>        <span class="ex">ignoreDups</span> = true<span class="kw">;</span></span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a>        <span class="ex">save</span> = 1000000<span class="kw">;</span></span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a>        <span class="ex">share</span> = true<span class="kw">;</span></span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a>        <span class="fu">size</span> = 1000000<span class="kw">;</span></span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a>      <span class="er">}</span><span class="kw">;</span></span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a>      <span class="ex">oh-my-zsh</span> = {</span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a>        <span class="bu">enable</span> = true<span class="kw">;</span> </span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a>        <span class="ex">plugins</span> = [</span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a>          <span class="st">&quot;extract&quot;</span></span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a>          <span class="st">&quot;fzf&quot;</span></span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true" tabindex="-1"></a>          <span class="st">&quot;git&quot;</span></span>
<span id="cb1-33"><a href="#cb1-33" aria-hidden="true" tabindex="-1"></a>          <span class="st">&quot;web-search&quot;</span></span>
<span id="cb1-34"><a href="#cb1-34" aria-hidden="true" tabindex="-1"></a>        <span class="ex">]</span><span class="kw">;</span></span>
<span id="cb1-35"><a href="#cb1-35" aria-hidden="true" tabindex="-1"></a>      <span class="er">}</span><span class="kw">;</span></span>
<span id="cb1-36"><a href="#cb1-36" aria-hidden="true" tabindex="-1"></a>      <span class="ex">shellAliases</span> =</span>
<span id="cb1-37"><a href="#cb1-37" aria-hidden="true" tabindex="-1"></a>        <span class="kw">{</span></span>
<span id="cb1-38"><a href="#cb1-38" aria-hidden="true" tabindex="-1"></a>          <span class="ex">h</span> = <span class="st">&quot;history&quot;</span><span class="kw">;</span></span>
<span id="cb1-39"><a href="#cb1-39" aria-hidden="true" tabindex="-1"></a>          <span class="ex">hs</span> = <span class="st">&quot;history | grep&quot;</span><span class="kw">;</span></span>
<span id="cb1-40"><a href="#cb1-40" aria-hidden="true" tabindex="-1"></a>          <span class="ex">hsi</span> = <span class="st">&quot;history | grep -i&quot;</span><span class="kw">;</span></span>
<span id="cb1-41"><a href="#cb1-41" aria-hidden="true" tabindex="-1"></a>          <span class="ex">ll</span> = <span class="st">&quot;ls -alF&quot;</span><span class="kw">;</span></span>
<span id="cb1-42"><a href="#cb1-42" aria-hidden="true" tabindex="-1"></a>          <span class="ex">la</span> = <span class="st">&quot;ls -A&quot;</span><span class="kw">;</span></span>
<span id="cb1-43"><a href="#cb1-43" aria-hidden="true" tabindex="-1"></a>          <span class="ex">l</span>  = <span class="st">&quot;ls -CF&quot;</span><span class="kw">;</span></span>
<span id="cb1-44"><a href="#cb1-44" aria-hidden="true" tabindex="-1"></a>          <span class="ex">vi</span> = <span class="st">&quot;nvim&quot;</span><span class="kw">;</span></span>
<span id="cb1-45"><a href="#cb1-45" aria-hidden="true" tabindex="-1"></a>          <span class="ex">view</span> = <span class="st">&quot;nvim -R&quot;</span><span class="kw">;</span></span>
<span id="cb1-46"><a href="#cb1-46" aria-hidden="true" tabindex="-1"></a>          <span class="ex">vim</span> = <span class="st">&quot;nvim&quot;</span><span class="kw">;</span></span>
<span id="cb1-47"><a href="#cb1-47" aria-hidden="true" tabindex="-1"></a>        <span class="kw">};</span></span>
<span id="cb1-48"><a href="#cb1-48" aria-hidden="true" tabindex="-1"></a>      <span class="ex">zplug</span> = {</span>
<span id="cb1-49"><a href="#cb1-49" aria-hidden="true" tabindex="-1"></a>        <span class="bu">enable</span> = true<span class="kw">;</span></span>
<span id="cb1-50"><a href="#cb1-50" aria-hidden="true" tabindex="-1"></a>        <span class="ex">plugins</span> = [</span>
<span id="cb1-51"><a href="#cb1-51" aria-hidden="true" tabindex="-1"></a>          <span class="kw">{</span> <span class="ex">name</span> = <span class="st">&quot;romkatv/powerlevel10k&quot;</span><span class="kw">;</span> <span class="ex">tags</span> = [ as:theme depth:1 ]<span class="kw">;</span> <span class="kw">}</span></span>
<span id="cb1-52"><a href="#cb1-52" aria-hidden="true" tabindex="-1"></a>        <span class="ex">]</span><span class="kw">;</span></span>
<span id="cb1-53"><a href="#cb1-53" aria-hidden="true" tabindex="-1"></a>      <span class="er">}</span><span class="kw">;</span></span>
<span id="cb1-54"><a href="#cb1-54" aria-hidden="true" tabindex="-1"></a>    <span class="er">}</span><span class="kw">;</span></span></code></pre></div>
</div>
</details>
<h2 data-number="2.2" id="既定のシェルをzshへ変更する"><span class="header-section-number">2.2</span> 既定のシェルをzshへ変更する</h2>
<p><code>home-manager switch</code>で上のzshの設定が反映された<code>home.nix</code>を読み込みます。 しかし、これだけでは再びターミナルを開き直しても、いつも通りのシェルが起動します。 現在のシェルを変更するために、<code>chsh</code>コマンドを使って設定します。</p>
<pre><code>$ echo $SHELL
/bin/bash
$ command -v zsh
/home/username/.nix-profile/bin/zsh
$ sudo chsh -s &quot;$(command -v zsh)&quot; &quot;${USER}&quot;</code></pre>
<p>これでターミナルを起動し直すと(なぜか私は2回起動し直す必要がありました)、 後述しますが、初回起動時のみ、<a href="https://github.com/romkatv/powerlevel10k">powerlevel10k</a> というシェルの見た目を簡単に設定できるものが起動します。</p>
<p>質問に答えていくだけですが、わからない場合は次で紹介するpowerlevel10kのパートで設定方法を確認してください。</p>
<details>
<summary>
Visual Studio Codeでの既定のシェルの設定
</summary>
<div>
<code>Ctrl+Shift+@</code>でターミナルを起動し、+ボタンの右にある<i class="fas fa-chevron-down"></i>をクリックし、 既定のプロファイルの選択をクリックして、<code>zsh</code>を選択する。
</div>
</details>
<h1 data-number="3" id="zshのカスタマイズ"><span class="header-section-number">3</span> zshのカスタマイズ</h1>
<p>前節で設定したものについて細かく見ていきます。 本来なら基本設定から解説した方が良いですが、上の設定をコピペでスタートした人のために、まずpowerlevel10kから解説します。</p>
<h2 data-number="3.1" id="powerlevel10k-ターミナルの見た目を簡単に設定する"><span class="header-section-number">3.1</span> powerlevel10k: ターミナルの見た目を簡単に設定する</h2>
<p>GitHubのリポジトリはこちら(<a href="https://github.com/romkatv/powerlevel10k" class="uri">https://github.com/romkatv/powerlevel10k</a>)</p>
<h3 data-number="3.1.1" id="homenixへの記述"><span class="header-section-number">3.1.1</span> home.nixへの記述</h3>
<p><code>home.nix</code>の<code>programs.zsh</code>内の以下の部分で導入しています:</p>
<div class="sourceCode" id="cb3" data-filepath="~/.config/nixpkgs/home.nix"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>      <span class="ex">zplug</span> = {</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>        <span class="bu">enable</span> = true<span class="kw">;</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>        <span class="ex">plugins</span> = [</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>          <span class="kw">{</span> <span class="ex">name</span> = <span class="st">&quot;romkatv/powerlevel10k&quot;</span><span class="kw">;</span> <span class="ex">tags</span> = [ as:theme depth:1 ]<span class="kw">;</span> <span class="kw">}</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>        <span class="ex">]</span><span class="kw">;</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>      <span class="er">}</span><span class="kw">;</span></span></code></pre></div>
<p>ちなみに、Home Managerを使わずにやると、手動で設定すること(<code>ZSH_THEME</code>の設定等)が少しだけ多いのですが、 その辺りの細々した作業も全部やってくれます。有難い。。。</p>
<h3 data-number="3.1.2" id="フォントの設定"><span class="header-section-number">3.1.2</span> フォントの設定</h3>
<p>ただし、このフォント設定を行わないと、アイコンが上手く表示されなかったりします。 別に気にしない方や、ターミナルのフォントを変更したくない場合はこちらのステップは省略可能なので、次のステップに進んでください。</p>
<ol type="1">
<li><a href="https://github.com/romkatv/powerlevel10k">powerlevel10kのGitHubリポジトリ</a>にアクセスする。</li>
<li><code>README.md</code>の1/4くらいにあるFontsを見つける(「Fonts」でページ内検索するなどして見つけてください)。</li>
<li>Manual font installationにある、以下の4つのフォント(<code>ttf</code>ファイル)をダウンロードする:</li>
</ol>
<ul>
<li><code>MesloLGS NF Regular.ttf</code></li>
<li><code>MesloLGS NF Bold.ttf</code></li>
<li><code>MesloLGS NF Italic.ttf</code></li>
<li><code>MesloLGS NF Bold Italic.ttf</code></li>
</ul>
<ol start="4" type="1">
<li>各ファイルを開くと、「インストール(Install)」または「フォントをインストール(Install Font)」というボタンがあるので、クリックしてインストールする。</li>
</ol>
<p>以下、ターミナルごとにフォントの設定を行う:</p>
<dl id="powerlevel10k-font-settings-guide" class="p-accordion" role="tablist">
<dt class="p-accordion__title" role="tab">
<button class="p-accordion__btn js-accordionTrigger" aria-expanded="false" aria-controls="powerlevel10k-font-settings-guide" type="button">
iTerm2
</button>
</dt>
<dd class="p-accordion__body js-accordionTarget" aria-hidden="true" role="tabpanel">
<p>以下のいずれか:</p>
<ul>
<li><code>p10k configure</code>を実行し、<em>Meslo Nerd Font</em>をインストールしますか？という質問に<code>Yes</code>と答える。</li>
<li>iTerm2 → 環境設定(Preferences) → プロファイル(Profiles) → テキスト(Text)の順で開き、フォント(Font)を<code>MesloLGS NF</code>に設定する。
</dd>
<dt class="p-accordion__title" role="tab">
<button class="p-accordion__btn js-accordionTrigger" aria-expanded="false" aria-controls="powerlevel10k-font-settings-guide" type="button">
Appleターミナル
</button>
</dt>
<dd class="p-accordion__body js-accordionTarget" aria-hidden="true" role="tabpanel">
ターミナル(Terminal) → 環境設定(Preferences) → プロファイル(Profiles) → テキスト(Text)の順で開き、フォント(Font)を<code>MesloLGS NF</code>に設定する。
</dd>
<dt class="p-accordion__title" role="tab">
<button class="p-accordion__btn js-accordionTrigger" aria-expanded="false" aria-controls="powerlevel10k-font-settings-guide" type="button">
Visual Studio Code
</button>
</dt>
<dd class="p-accordion__body js-accordionTarget" aria-hidden="true" role="tabpanel">
左下の歯車マーク→設定(Settings)の順で開き、検索ボックスに「<code>terminal.integrated.fontFamily</code>」と入力して検索し、 値を<code>MelsoLGS NF</code>に設定する。 VS Codeをフォントのインストール前から開いていた場合、「ご使用の端末はモノスペース フォントのみをサポートします。 これが新しくインストールされたフォントである場合は、VS Codeを再起動してください。」と出るので、 指示に従い、VS Codeを再起動してください。
</dd>
<dt class="p-accordion__title" role="tab">
<button class="p-accordion__btn js-accordionTrigger" aria-expanded="false" aria-controls="powerlevel10k-font-settings-guide" type="button">
Windowsターミナル
</button>
</dt>
<dd class="p-accordion__body js-accordionTarget" aria-hidden="true" role="tabpanel">
タブを追加する+ボタンの右の<i class="fas fa-chevron-down"></i>をクリックすると、設定が開く。 左側のメニューのプロファイルにある既定値を選択し、外観をクリックする。 フォントフェイスを<code>MesloLGS NF</code>に設定する。
</dd>
</dl></li>
</ul>
<h3 data-number="3.1.3" id="powershell10kの設定について"><span class="header-section-number">3.1.3</span> powershell10kの設定について</h3>
<p>powershell10kを設定した後、初めてシェルを起動すると、設定が始まります。 基本的には、質問に対して答えていくだけですが、一応英語が苦手な方のためにも質問の内容を記載します。 ちなみに、次の節で解説するように、<strong>設定を変えたい場合はいつでも簡単に再設定できる</strong>ので、忙しい方は適当に答えてても問題ありません。</p>
<p>最初の4つの質問は、アイコンフォントが文字化けするかどうかの質問です。 前のフォントの設定を飛ばしている場合、いくつか<code>n</code>で答える箇所が出るかもしれません。</p>
<ol type="1">
<li><code>---&gt;</code>と<code>&lt;---</code>の間にある文字がダイヤモンド(◆)に見えているか？という質問です。 ダイヤモンドが表示されていれば<code>y</code>、文字化けしていれば<code>n</code>を入力してください。</li>
<li>同様に、次は南京錠(<i class="fas fa-lock"></i>)が表示されているか？という質問です。 南京錠が表示されていれば<code>y</code>、文字化けしていれば<code>n</code>を入力してください。</li>
<li>次はDebianのロゴである渦巻き模様が見えているかという質問です。 渦巻き模様が表示されていれば<code>y</code>、文字化けしていれば<code>n</code>を入力してください。</li>
<li>次は<code>X</code>を間に挟んで、様々な色の様々なアイコンが表示されているかという質問です。 恐らく、X(赤色で<code>git</code>の文字)X(緑でGitHubのアイコン)X(黄色で時計)X(青でダイヤモンド)X(紫で家アイコン)X(水色でファイルアイコン)X(赤色で白抜きファイルアイコン)X(緑でよくわからないもの)Xが表示されると思います(違うかもしれません)。 文字化けしていなければ<code>y</code>、していれば<code>n</code>を入力してください。</li>
</ol>
<p>ここから先は好みでプロンプトの見た目を設定していきます。 <strong>どのプロンプトを選ぶかによって、質問の量や内容は変わります</strong>が、一応自分の設定の分だけ載せておきます。 一応選定理由も載せていますが、個人の好みなので、好きなように設定してください。</p>
<ol start="5" type="1">
<li>プロンプトの見た目です。情報がごちゃごちゃし過ぎるのはあまり好きではないので、私は<code>Lean</code>にします。<code>1</code>を選択します。</li>
<li>文字セットの設定です。Unicodeが良いので、<code>1</code>を選択します。</li>
<li>プロンプトに使う色の数です。256色で<code>1</code>を選択します。</li>
<li>プロンプトの右側に表示する現在時刻の表示設定です。時刻くらいなら表示してても良いかなと思うので、<code>24-hours format</code>の<code>2</code>を選択します。</li>
<li>入力行を改行するか否かの設定です。カレントディレクトリへのパスが長くなると、かなり窮屈になってしまうので、<code>Two Lines</code>の<code>2</code>を選択します。</li>
<li>ディレクトリ情報と時刻情報の間にラインを引くか否かの設定です。シンプルに<code>Disconnected</code>の<code>1</code>を選択します。</li>
<li>改行に付けるフレームの設定です。ここもシンプルに<code>No frame</code>の<code>1</code>を選択します。</li>
<li>コマンドの実行後に空行を入れるかどうかの設定です。前に実行したコマンドができるだけ多く表示されていた方が好きなので、<code>Compact</code>の<code>1</code>を選択します。</li>
<li>アイコンを表示するかどうかの設定です。直感的にわかりやすいと思うので、<code>Many icons</code>の<code>2</code>を選択します。</li>
<li>表示により詳しい説明を加えるかどうかの設定です。流石に長くなり過ぎるので、<code>Concise</code>の<code>1</code>を選択します。</li>
<li>コマンド実行後に、以前のコマンドの部分にもディレクトリ情報等を残すか否かの設定です。よく考えれば要らないなと思ったので、<code>No</code>の<code>n</code>を選択します。</li>
<li>インスタントプロンプトに関する設定と出ていますが、よくわからないので、推奨されているVerboseの<code>1</code>を選択します。</li>
<li>設定を完了して保存するかの質問です。<code>Yes</code>の<code>y</code>を選択します。</li>
</ol>
<p>これで設定が完了しました！個人的にプロンプトの見た目が自分好みだと、モチベーションにも繋がります。</p>
<h3 data-number="3.1.4" id="powerlevel10kの設定をやり直す"><span class="header-section-number">3.1.4</span> powerlevel10kの設定をやり直す</h3>
<p>ここまで行った設定はいつでも設定し直すことができます。 やり方はコマンド一つです。<code>p10k configure</code>を実行すると、再度設定画面が開き、再設定できます。 飽きたら別の見た目にいつでもカスタマイズできるということですね。</p>
<h2 data-number="3.2" id="zshの便利なコマンド"><span class="header-section-number">3.2</span> zshの便利なコマンド</h2>
<p>色々ありますが、便利だなと思った2つだけピックアップします。 自分自身入門したてなので、他にも便利なショートカットがあれば教えて頂けると幸いです。</p>
<ul>
<li><code>Ctrl+k</code>: カーソル位置から行末まで削除</li>
<li><code>Ctrl+r</code>: 以前実行したコマンドの検索</li>
</ul>
<h2 data-number="3.3" id="基本設定"><span class="header-section-number">3.3</span> 基本設定</h2>
<p>Home Managerで準備されている設定と、されていない設定があります。 準備されていない設定に関しては<code>zsh</code>の<code>initExtra</code>で設定されています。</p>
<p>まず、</p>
<ul>
<li><code>enableAutosuggestions = true;</code>でサジェストを有効化、</li>
<li><code>enableCompletion = true;</code>で補完の有効化、</li>
<li><code>enableSyntaxHighlighting = true;</code>でシンタックスハイライトの有効化</li>
</ul>
<p>を行っています。</p>
<p><code>envExtra</code>に記述している内容はNixを使う上で必要な設定なので、 あまり気にしなくてOKです。</p>
<h3 data-number="3.3.1" id="auto_cd-ディレクトリ名の入力だけでそのディレクトリに移動する"><span class="header-section-number">3.3.1</span> auto_cd: ディレクトリ名の入力だけでそのディレクトリに移動する</h3>
<p><code>zsh</code>内の以下の行で設定しています(通常は<code>.zshrc</code>に<code>setopt auto_cd</code>と記述します):</p>
<div class="sourceCode" id="cb4" data-filepath="~/.config/nixpkgs/home.nix"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>      <span class="ex">autocd</span> = true<span class="kw">;</span></span></code></pre></div>
<p>これを設定しておくと、<code>cd</code>と入力しなくても、ディレクトリの名前だけで移動できます。</p>
<h3 data-number="3.3.2" id="no_beep-ビープ音を消す"><span class="header-section-number">3.3.2</span> no_beep: ビープ音を消す</h3>
<p><code>initExtra</code>内の以下の行で設定しています。</p>
<div class="sourceCode" id="cb5" data-filepath="~/.config/nixpkgs/home.nix"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>        <span class="ex">setopt</span> no_beep</span></code></pre></div>
<p>できない操作を試みたときにビープ音を鳴らさないようにする設定です。 私はいちいちうるさいと感じるので、設定しています。</p>
<h3 data-number="3.3.3" id="auto_pushdとpushd_ignore_dups-ディレクトリ移動をスタックで管理する"><span class="header-section-number">3.3.3</span> auto_pushdとpushd_ignore_dups: ディレクトリ移動をスタックで管理する</h3>
<p>次の2つは少し難しいですが、<code>pushd</code>と<code>popd</code>というディレクトリの移動に便利な操作に関する設定です。 先に<code>pushd</code>と<code>popd</code>について説明します。 <strong>スタック</strong>(stack)でディレクトリの移動を管理できるというものです。</p>
<details>
<summary>
<strong>スタック</strong>(stack)って何？
</summary>
<div>
データ構造の一つです。<code>push</code>で最後に入れた(last-in)ものを、 <code>pop</code>で頭から取り出す(first-out)ことができる<strong>LIFO</strong>(last-in first-out)のデータ構造です。 よく挙げられる例が、本を机の上に積み上げる例です。1冊1冊本を積み上げたとき、 最初に取り出せるもの(first-out)は一番上にある本ですが、 これは最後に積んだ本(last-out)ですね。 本を積む操作が<code>push</code>、本を取り出す操作が<code>pop</code>と考えて頂ければOKです。
</div>
</details>
<p><code>pushd</code>と<code>popd</code>の「<code>d</code>」はディレクトリ(directory)の頭文字です。</p>
<details>
<summary>
<code>pushd</code>と<code>popd</code>のデモ
</summary>
<div>
<p>以下、コマンドの状況の説明を<code>#</code>以降で説明しています。 自分で動作確認をする場合は、<code>#</code>以降は入力せずに行ってください。</p>
<pre><code>$ cd ~                       # ホームディレクトリに移動
$ mkdir tmp                  # デモ用のディレクトリ作成
$ mkdir tmp/hoge             # デモ用のディレクトリ作成
$ mkdir tmp/hoge/fuga        # デモ用のディレクトリ作成
$ pwd                        # 現在位置の確認
/home/username
$ pushd tmp/hoge             # スタックにtmp/hogeを追加
~/tmp/hoge ~                 # 最後に移動した~/tmp/hogeがスタックの先頭に追加されている
$ pwd                        # 現在位置の確認
/home/username/tmp/hoge      # 移動できている
$ pushd fuga                 # スタックにfugaを追加
~/tmp/hoge/fuga ~/tmp/hoge ~ # ~/tmp/hoge/fugaがスタックの先頭に追加されている
$ pwd
/home/username/tmp/hoge/fuga # 移動できている
$ popd
~/tmp/hoge ~                 # ~/tmp/hoge/fugaがスタックから取り出された
$ pwd
/home/username/tmp/hoge      # ~/tmp/hogeに移動している
$ popd
~                            # ~/tmp/hogeがスタックから取り出された
$ pwd
/home/username               # ~に移動している
$ rm -r tmp                  # 掃除</code></pre>
</div>
</details>
<p>このような形で、<code>pushd</code>で移動の履歴を残しながら、 戻りたいときには<code>popd</code>で戻ることができます。 ちょっと別のディレクトリに用事があるけど、すぐ戻りたいとき等に便利そうですね。</p>
<p>さて、前置きが長くなりましたが、<code>setopt auto_pushd</code>と記述しておくと、 普段の<code>cd</code>コマンドが<code>pushd</code>として実行され、普段通り<code>cd</code>で移動した場合でも、 <code>popd</code>で辿って来た道のりを戻ることができます。</p>
<p>これは<code>initExtra</code>内の以下の行で設定しています:</p>
<div class="sourceCode" id="cb7" data-filepath="~/.config/nixpkgs/home.nix"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>        <span class="ex">setopt</span> auto_pushd</span></code></pre></div>
<p>次に、<code>setopt pushd_ignore_dups</code>ですが、これを設定していない状態で、 例えば<code>cd ~</code>を連続して何度も行うと、スタックにずっと<code>~</code>が溜まり続け、 <code>popd</code>をやってもやってもホームディレクトリから動けないという状態に陥ってしまいます。 これを避けるために、<strong>重複したディレクトリはスタックに追加しない</strong>というのが、 この<code>setopt pushd_ignore_dups</code>の設定です。</p>
<p>これは<code>initExtra</code>内の以下の行で設定しています:</p>
<div class="sourceCode" id="cb8" data-filepath="~/.config/nixpkgs/home.nix"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>        <span class="ex">setopt</span> pushd_ignore_dups</span></code></pre></div>
<h3 data-number="3.3.4" id="historyを使いやすくする"><span class="header-section-number">3.3.4</span> historyを使いやすくする</h3>
<p><code>history</code>というコマンドで、以前実行したコマンドをチェックすることができ、 <code>!</code>に履歴の番号を添えて実行することで、そのコマンドを再度実行することができます。 この<code>history</code>の機能を使いやすくする設定を行います。</p>
<p><code>home.nix</code>の<code>zsh</code>内にある以下の記述で設定しています:</p>
<div class="sourceCode" id="cb9" data-filepath="~/config/nixpkgs/home.nix"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>      <span class="bu">history</span> = {</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>        <span class="ex">extended</span> = true<span class="kw">;</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>        <span class="ex">ignoreDups</span> = true<span class="kw">;</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>        <span class="ex">save</span> = 1000000<span class="kw">;</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>        <span class="ex">share</span> = true<span class="kw">;</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>        <span class="fu">size</span> = 1000000<span class="kw">;</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>      <span class="er">}</span><span class="kw">;</span></span></code></pre></div>
<p><code>extended = true;</code>は、<code>history</code>ファイルにタイムスタンプを保存するという設定です (通常は<code>.zshrc</code>で<code>setopt EXTENDED_HISTORY</code>と記述します)。</p>
<p><code>ignoreDups = true;</code>は、<code>history</code>コマンドで重複するコマンドは保存しないというものです (通常は<code>.zshrc</code>で<code>setopt hist_ignore_dups</code>と記述します)。 例えば、癖で<code>ls</code>コマンドを何回も実行したりしてしまうことがよくありますが、 そういったものでコマンド履歴を汚さなくてすむようになります。</p>
<p><code>share = true;</code>は、新しく開いたzshにも履歴をシェアするという設定です (通常は<code>.zshrc</code>で<code>setopt share_histroy</code>と記述します)。</p>
<p><code>save = 10000000;</code>は、履歴ファイルに保存する履歴の件数の設定です (通常は<code>.zshrc</code>で<code>export SAVEHIST=1000000</code>と記述します)。</p>
<p><code>size = 10000000;</code>は、メモリに保存する履歴の件数の設定です (通常は<code>.zshrc</code>で<code>export HISTSIZE=1000000</code>と記述します)。</p>
<p>また、通常<code>history</code>にコマンドの履歴が保存されるのは、 再度コマンドが入力可能になるタイミングですが、 この設定だと、サーバーにアクセスするような、 しばらく結果がかえって来ないようなコマンドを実行して、 そのままターミナルを閉じてしまった場合などに、履歴にコマンドが残らなくなります。 この保存のタイミングを、実行したとき即座に行うようにする設定が、<code>initExtra</code>にある以下の記述です:</p>
<div class="sourceCode" id="cb10" data-filepath="~/config/nixpkgs/home.nix"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>        <span class="ex">setopt</span> inc_append_history</span></code></pre></div>
<h2 data-number="3.4" id="oh-my-zshによるプラグインの設定"><span class="header-section-number">3.4</span> oh my zshによるプラグインの設定</h2>
<p><code>zsh</code>内の以下の行で有効にしています:</p>
<div class="sourceCode" id="cb11" data-filepath="~/config/nixpkgs/home.nix"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>      <span class="ex">oh-my-zsh</span> = {</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>        <span class="bu">enable</span> = true<span class="kw">;</span> </span></code></pre></div>
<p>以下、<code>plugins = [];</code>の中身に欲しいoh my zshのプラグインを書いていくだけです。</p>
<h3 data-number="3.4.1" id="extract-ファイルを展開する"><span class="header-section-number">3.4.1</span> extract: ファイルを展開する</h3>
<p><code>oh-my-zsh</code>の<code>plugins</code>内の以下の行で設定しています:</p>
<div class="sourceCode" id="cb12" data-filepath="~/config/nixpkgs/home.nix"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>          <span class="st">&quot;extract&quot;</span></span></code></pre></div>
<p>圧縮ファイルの種類はたくさんありますが、この<code>extract</code>を入れておくと、 <code>extract &lt;ファイル名&gt;</code>で大抵のファイルを展開することができるようになります。 展開できるファイルは<a href="https://github.com/ohmyzsh/ohmyzsh/tree/master/plugins/extract">oh-my-zshのextractプラグイン</a>で見ることができます。</p>
<h3 data-number="3.4.2" id="fzf-ファイルを高速に検索する"><span class="header-section-number">3.4.2</span> fzf: ファイルを高速に検索する</h3>
<p><code>oh-my-zsh</code>の<code>plugins</code>内の以下の行で設定しています:</p>
<div class="sourceCode" id="cb13" data-filepath="~/config/nixpkgs/home.nix"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>          <span class="st">&quot;fzf&quot;</span></span></code></pre></div>
<p>これにより、ターミナル上で<code>Ctrl+t</code>というショートカットでFuzzy Finderというファイル検索が起動し、 ファイル名やディレクトリ名を入れてそこに移動することが可能になります。</p>
<h3 data-number="3.4.3" id="git-gitのaliasとfunctionを利用する"><span class="header-section-number">3.4.3</span> git: gitのaliasとfunctionを利用する</h3>
<p><code>oh-my-zsh</code>の<code>plugins</code>内の以下の行で設定しています:</p>
<div class="sourceCode" id="cb14" data-filepath="~/config/nixpkgs/home.nix"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>          <span class="st">&quot;git&quot;</span></span></code></pre></div>
<p>正直、oh-my-zshの設定でデフォルトで入るものなので入れてるというだけです。 aliasについては、<a href="https://github.com/ohmyzsh/ohmyzsh/blob/master/plugins/git/git.plugin.zsh">oh-my-zshのgitプラグイン</a> を参照すれば良いかと思います。<code>ga</code>で<code>git add</code>、<code>gb</code>で<code>git branch</code>など、 たくさんaliasが設定されています。使わないなら削除しても良いかと思います。</p>
<h3 data-number="3.4.4" id="web-search-コマンドラインから検索を行う"><span class="header-section-number">3.4.4</span> web-search: コマンドラインから検索を行う</h3>
<p><code>oh-my-zsh</code>の<code>plugins</code>内の以下の行で設定しています:</p>
<div class="sourceCode" id="cb15" data-filepath="~/config/nixpkgs/home.nix"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>          <span class="st">&quot;web-search&quot;</span></span></code></pre></div>
<p>これにより、コマンドラインから<code>google</code>というコマンドでGoogle Chromeを立ち上げて検索することができるようになります。 何が嬉しいかというと、ターミナルでプログラムを実行したときに出たエラーメッセージを、 そのままターミナル内でコピーして、 例えば<code>google python command not found</code>などと入力するだけで、 「python command not found」に関するエラーをGoogle検索することができます。 わざわざブラウザを立ち上げて検索する必要がなくなります。</p>
<h2 data-number="3.5" id="外部プラグインの利用について別記事に回します"><span class="header-section-number">3.5</span> 外部プラグインの利用について(別記事に回します)</h2>
<p>デフォルトで入っていないプラグインでもGitHubから引っ張ってくることを記述できますが、 少し込み入った説明と、プラグインによっては<code>zsh</code>の外部に記述をする必要が出てくるので、 今回は説明しないことにします。</p>
<h1 data-number="4" id="まとめ"><span class="header-section-number">4</span> まとめ</h1>
<p>Home Managerを用いてzshを使えるようにしました。 外部プラグインの設定方法については、またいつか記事にまとめます。 外部プラグインの設定についても、ほんの少し複雑に感じるところはあるかもしれませんが、 Nixの強味がかなり活かせ、一度設定してしまえば移行が楽になります。</p>
<p>NixもHome Managerも初心者なので、 理解していないことやわからないことが多くあるので、 アドバイスや、説明に誤り等を発見しましたら、ご指摘願います。</p>
<p>Home Manager、いじればいじるほど凄いなぁとなってる今日この頃です。</p>

        </section>
      </section>
    </article>
    <div class="u-mobile-only">
      <div class="p-pagination">
  
	  <button class="p-pagination__media" type="button">
      <a href="/imamlab.log/2022-01-29-starting-home-manager.html" class="c-media">
        <span class="c-font-icon c-font-icon--angle-left"></span>
		    <figure class="c-media__imageWrapper">
			    <img class="c-media__image" src="/images/nix_logo.png" alt="Previous Page Image" />
		    </figure>
		    <div class="c-media__body">
          <h3 class="p-pagination__guide">前の記事:</h3>
					<p class="p-pagination__date">
            <span class="c-font-icon c-font-icon--calendar with-text"></span>
						2022-01-29T15:09:32Z
					</p>
			    <h4 class="p-pagination__title">Nix学習備忘録Part 2: Home Managerを導入する</h4>
		    </div>
      </a>
		</button>
	

  
	  <button class="p-pagination__media" type="button">
      <a href="/imamlab.log/2022-01-31-using-zsh-plugin-from-github.html" class="c-media__reverse">
        <span class="c-font-icon c-font-icon--angle-right"></span>
		    <figure class="c-media__imageWrapper">
			    <img class="c-media__image" src="/images/nix_logo.png" alt="Next Page Image" />
		    </figure>
		    <div class="c-media__body">
          <h3 class="p-pagination__guide">次の記事:</h3>
					<p class="p-pagination__date">
            <span class="c-font-icon c-font-icon--calendar with-text"></span>
						2022-01-31T20:37:15Z
					</p>
          <h4 class="p-pagination__title">Nix学習備忘録Part 2-1-2: GitHubのzshプラグインを利用する</h4>
		    </div>
      </a>
		</button>
	
</div>
    </div>
    <aside role="complementary" class="l-content__side">
      <section class="c-inner">
        <h1>
          <a href="/">
            <img class="c-icon" alt="PotassiumIodide" src="/images/icon.png"/>
          </a>
        </h1>
        <p>Potassium Iodide</p>
      </section>
    </aside>
  </div>
  <div class="l-container u-pc-only">
    <div class="p-pagination">
  
	  <button class="p-pagination__media" type="button">
      <a href="/imamlab.log/2022-01-29-starting-home-manager.html" class="c-media">
        <span class="c-font-icon c-font-icon--angle-left"></span>
		    <figure class="c-media__imageWrapper">
			    <img class="c-media__image" src="/images/nix_logo.png" alt="Previous Page Image" />
		    </figure>
		    <div class="c-media__body">
          <h3 class="p-pagination__guide">前の記事:</h3>
					<p class="p-pagination__date">
            <span class="c-font-icon c-font-icon--calendar with-text"></span>
						2022-01-29T15:09:32Z
					</p>
			    <h4 class="p-pagination__title">Nix学習備忘録Part 2: Home Managerを導入する</h4>
		    </div>
      </a>
		</button>
	

  
	  <button class="p-pagination__media" type="button">
      <a href="/imamlab.log/2022-01-31-using-zsh-plugin-from-github.html" class="c-media__reverse">
        <span class="c-font-icon c-font-icon--angle-right"></span>
		    <figure class="c-media__imageWrapper">
			    <img class="c-media__image" src="/images/nix_logo.png" alt="Next Page Image" />
		    </figure>
		    <div class="c-media__body">
          <h3 class="p-pagination__guide">次の記事:</h3>
					<p class="p-pagination__date">
            <span class="c-font-icon c-font-icon--calendar with-text"></span>
						2022-01-31T20:37:15Z
					</p>
          <h4 class="p-pagination__title">Nix学習備忘録Part 2-1-2: GitHubのzshプラグインを利用する</h4>
		    </div>
      </a>
		</button>
	
</div>
  </div>
</main>
    <footer role="contentinfo" id="footer" class="l-footer">
	<div class="l-center l-footer__primary">
		<p class="p-footer__logo">
      <a href="/" class="p-logo -secondary">
        <img src="/images/logo.png" alt="ImamLab" class="p-logo__image" />
      </a>
		</p>
		<p class="p-footer__message">Potassium Iodideの個人ページ ImamLab</p>
		<ul class="l-cluster p-footer__bioList">
      <li class="p-footer__bioItem"><a href="https://twitter.com/Aspirerator?t=l6BfFL0XJsC2pUjAnAcFsA&s=09" class="p-footer__link--icon" target="_blank" rel="noopener">
        <span class="c-font-icon c-font-icon--twitter" aria-hidden="true"></span>
				<span class="u-visuallyHidden">Twitter</span>
      </a></li>
      <li class="p-footer__bioItem"><a href="https://github.com/PotassiumIodide/" class="p-footer__link--icon" target="_blank" rel="noopener">
        <span class="c-font-icon c-font-icon--github" aria-hidden="true"></span>
				<span class="u-visuallyHidden">GitHub</span>
      </a></li>
      <li class="p-footer__bioItem"><a href="mailto:potassium.iodide28@gmail.com" class="p-footer__link--icon" target="_blank" rel="noopener">
        <span class="c-font-icon c-font-icon--mail" aria-hidden="true"></span>
				<span class="u-visuallyHidden">Email</span>
      </a></li>
      <li class="p-footer__bioItem"><a href="/rss.xml" class="p-footer__link--icon" target="_blank" rel="noopener">
        <span class="c-font-icon c-font-icon--rss" aria-hidden="true"></span>
				<span class="u-visuallyHidden">RSS</span>
      </a></li>
		</ul>
	</div>
	<div class="l-center l-footer__secondary">
		<p id="copyright" class="p-footer__copy">&copy; 2022 PotassiumIodide</p>
		<p class="p-footer__message">
			Site proudly generated by
		  <a href="http://jaspervdj.be/hakyll" class="p-footer__link">Hakyll</a>
		</p>
	</div>
</footer>

    <script async src="/js/script.js"></script>
    <script src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="  crossorigin="anonymous"></script>
    <script src="/js/animations.js"></script>
    <script src="/js/accordion.js"></script>
  </body>
</html>
